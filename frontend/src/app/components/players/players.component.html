<div class="players-container">
  <div class="header">
    <h1>NFL Fantasy Players</h1>
    <p class="subtitle">Manage and view all players</p>
    <button class="back-btn" (click)="goBack()">‚Üê Back to Home</button>
  </div>

  <!-- Filters Section -->
  <div class="filters-section">
    <div class="filter-row">
      <!-- Search -->
      <div class="filter-item">
        <label>Search by name</label>
        <input 
          type="text" 
          class="search-input"
          [(ngModel)]="searchTerm" 
          (input)="applyFilters()"
          placeholder="Search by name...">
      </div>

      <!-- Position Filter -->
      <div class="filter-item">
        <label>Position</label>
        <select 
          class="select-input"
          [(ngModel)]="selectedPosition" 
          (change)="applyFilters()">
          <option *ngFor="let pos of positions" [value]="pos">{{ pos }}</option>
        </select>
      </div>

      <!-- Team Filter -->
      <div class="filter-item">
        <label>Team</label>
        <select 
          class="select-input"
          [(ngModel)]="selectedTeam" 
          (change)="applyFilters()">
          <option *ngFor="let team of teams" [value]="team">{{ team }}</option>
        </select>
      </div>

      <!-- Price Filter -->
      <div class="filter-item">
        <label>Price</label>
        <select 
          class="select-input"
          [(ngModel)]="priceFilter" 
          (change)="applyFilters()">
          <option *ngFor="let price of priceOptions" [value]="price">{{ price }}</option>
        </select>
      </div>

      <!-- Reset Button -->
      <div class="filter-item">
        <button class="reset-btn" (click)="resetFilters()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M3 6h18M7 12h10M11 18h2"/>
          </svg>
          Reset
        </button>
      </div>
    </div>

    <!-- Player Count -->
    <div class="player-count">
      <span>{{ filteredPlayers.length }} players shown</span>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading">
    <p>Loading players...</p>
  </div>

  <!-- Players List Container with Scroll -->
  <div *ngIf="!isLoading" class="players-list-container">
    <div class="players-list">
      <div *ngIf="filteredPlayers.length === 0" class="no-results">
        <p>No players found matching your filters.</p>
      </div>

      <div *ngFor="let player of filteredPlayers" class="player-card" [ngStyle]="{'background-color': getTeamColor(player.team)}">
        <img class="team-logo" [src]="getTeamLogo(player.team)" [alt]="player.team">
        <div class="player-info">
          <div class="player-name-section">
            <h3>{{ player.firstName }} {{ player.lastName }}</h3>
            <p class="player-details">{{ player.team }} - {{ player.position }}</p>
          </div>
        </div>
        
        <div class="player-stats">
          <div class="stat">
            <span class="stat-label">Price</span>
            <span class="stat-value">${{ player.price }}M</span>
          </div>
          <div class="stat" *ngIf="player.jerseyNumber">
            <span class="stat-label">#</span>
            <span class="stat-value">{{ player.jerseyNumber }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
